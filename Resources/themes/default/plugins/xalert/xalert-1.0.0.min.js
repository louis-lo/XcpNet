/*!
 * pc端右手边工具条脚本，实现用户登录注册功能，加入购物车，显示购物车产品列表和删除购物车功能
 * Requires  jQuery 1.1.1 or later
 * @version 1.0.0
 * @author liu mixoaxin  2016-07-27
 *----------------------------------------------
 * @version 1.0.1
 * 1.修复了在一个页面上多个弹窗时，不能独立定制界面的问题
 * 2.增加了手动弹窗模式
 * @author liu mixoaxin  2016-08-15
 */
+function(n,t){"use strict";var i=function(i){var r=this,u,f;this.options=n.extend({},{container:"#xContainer",bg:"#xbg",content:"#xContent",btnOk:"#xbtnOk",btnCancel:"#xbtnCancel",btnClose:"#xbtnClose",width:"58%",height:"67%",top:"10%",left:"23%",btnOkTxt:"确认",tmpl:"",enableClose:!0,enableCancel:!0,enableOk:!0,callback:null,onShow:null,onClose:null},arguments.length===1?arguments[0]:arguments[1]);this.target=arguments.length===1?r:i;this.container=n(this.options.container);this.bg=n(this.options.bg);this.content=this.container.find(this.options.content);this.btnOk=this.container.find(this.options.btnOk);this.btnCancel=this.container.find(this.options.btnCancel);this.btnClose=this.container.find(this.options.btnClose);u=function(){r.options.enableClose?r.btnClose.click(r.close).show():r.btnClose.hide();r.options.enableCancel?r.btnCancel.click(r.close).show():r.btnCancel.hide();r.options.enableOk?r.btnOk.off("click").click(function(n){r.options.callback(r,n)}).show():r.btnOk.hide()};f=function(){r.container.show();r.bg.show();r.bg.width(t.body.scrollWidth);r.bg.height(n(t).height());r.btnOk.text(r.options.btnOkTxt);r.options.tmpl.indexOf("#")===0?(r.content.html(n(r.options.tmpl).html()),r.content.css({"text-align":"","margin-top":"0"}),r.container.css({width:r.options.width,height:r.options.height,top:r.options.top,left:r.options.left})):(r.container.css({width:"20%",height:"140px",top:"40%",left:"42%"}),r.content.html(r.options.tmpl).css({"text-align":"center","margin-top":"50px"}))};this.show=function(){u();f();typeof this.options.onShow=="function"&&this.options.onShow(this)};this.close=function(){r.container.hide();r.bg.hide();typeof r.options.onClose=="function"&&r.options.onClose(this)};arguments.length===2&&i&&(i.onclick=n.proxy(r.show,r))};window.Xalert=i;n.fn.xalert=function(n){return this.each(function(){var t;this.dataset||(this.dataset={});t=this.dataset.xalert;t||(this.dataset.xalert=new i(this,n))})}}(jQuery||Zepto,document);