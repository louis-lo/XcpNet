function overall(n){var n=n||document,i=/j_([\w_]+)/,t={};$(".js",n).each(function(){var r=i.exec(this.className),n;r&&(n=t[r[1]],n||(n=eval("CF."+r[1].replace(/\_/gi,".")),t[r[1]]=n),n&&n(this))})}function GetCookie(n){var t=document.cookie.match(new RegExp("(^| )"+n+"=([^;]*)(;|$)"));return t!=null?unescape(t[2]):null}function SetIeCookie(n,t){document.cookie=n+"="+escape(t)+";path=/;"}function SetuserPannel(){var n=GetCookie("userpannel");n!="close"&&CF.common.userPannel.showPrompt("#userPannel-prompt")}function SetuserUserInfoPannel(){var n=GetCookie("userInfo");n!="close"&&CF.common.userPannel.showPrompt("#userPannel-userInfo")}(function(n){function t(t,i){return parseInt(n.css(t[0],i))||0}function i(n){try{return n[0].offsetWidth+t(n,"marginLeft")+t(n,"marginRight")}catch(i){return 0}}function r(n){return n[0].offsetHeight+t(n,"marginTop")+t(n,"marginBottom")}n.fn.jCarouselLite=function(t){return t=n.extend({btnPrev:null,btnNext:null,btnGo:null,mouseWheel:!1,auto:null,speed:200,easing:null,vertical:!1,circular:!0,visible:3,start:0,scroll:1,beforeStart:null,afterEnd:null},t||{}),this.each(function(){function w(){return o.slice(f).slice(0,u)}function l(i){if(!v){if(t.beforeStart&&t.beforeStart.call(this,w()),t.circular)i<=t.start-u-1?(e.css(a,-((s-u*2)*h)+"px"),f=i==t.start-u-1?s-u*2-1:s-u*2-t.scroll):i>=s-u+1?(e.css(a,-(u*h)+"px"),f=i==s-u+1?u+1:u+t.scroll):f=i;else{if(i<0||i>s-u)return;f=i}v=!0;e.animate(a=="left"?{left:-(f*h)}:{top:-(f*h)},t.speed,t.easing,function(){t.afterEnd&&t.afterEnd.call(this,w());v=!1});t.circular||(n(t.btnPrev+","+t.btnNext).removeClass("disabled"),n(f-t.scroll<0&&t.btnPrev||f+t.scroll>s-u&&t.btnNext||[]).addClass("disabled"))}return!1}var v=!1,a=t.vertical?"top":"left",p=t.vertical?"height":"width",c=n(this),e=n(" >ul",c),y=n(">li",e),b=y.size(),u=t.visible;t.circular&&(e.prepend(y.slice(b-u-0).clone()).append(y.slice(0,u).clone()),t.start+=u);var o=n(">li",e),s=o.size(),f=t.start;c.css("visibility","visible");o.css({overflow:"hidden",float:t.vertical?"none":"left"});e.css({margin:"0",padding:"0",position:"relative","list-style-type":"none","z-index":"1"});c.css({overflow:"hidden",position:"relative","z-index":"2",left:"0px"});var h=t.vertical?r(o):i(o),k=h*s,d=h*u;o.css({width:o.width(),height:o.height()});e.css(p,k+"px").css(a,-(f*h));c.css(p,d+"px");t.btnPrev&&n(t.btnPrev).click(function(){return l(f-t.scroll)});t.btnNext&&n(t.btnNext).click(function(){return l(f+t.scroll)});t.btnGo&&n.each(t.btnGo,function(i,r){n(r).click(function(){return l(t.circular?t.visible+(i-1)*t.scroll:i-1)})});t.mouseWheel&&c.mousewheel&&c.mousewheel(function(n,i){return i>0?l(f-t.scroll):l(f+t.scroll)});t.auto&&setInterval(function(){l(f+t.scroll)},t.auto+t.speed)})}})(jQuery);var CF={};CF.common={tabs:function(n){$(">ul",n).tabs()},dropMenu:function(n){$("li",n).hover(function(){$("ul",this).fadeIn()},function(){$("ul",this).hide()})},productSaleClick:function(n){var t=$(n).parent().next();$(n).click(function(){return t.show(),CF.common.productSale(t),!1});$("#product-sale-close").click(function(){t.hide()})},productSale:function(n){$("dd:eq(0)>ul>li",n).hover(function(){$(this).addClass("current")},function(){$(this).removeClass("current")})},corner:function(n){if($.browser.msie&&$.browser.version=="6.0"){var n=$(n),t=n.height(),i=n.outerHeight();i%2!=0&&n.height(t+1)}$('<div class="cornerLT"><\/div><div class="cornerRT"><\/div><div class="cornerLB"><\/div><div class="cornerRB"><\/div>').appendTo(n)},userPannel:{insertIframe:function(){if($.browser.msie&&$.browser.version=="6.0")$("#userPannel").append('<iframe width="100%" height="100%" frameborder="0"><\/iframe>'),$("#userPannel-pop .module-popBox").append('<iframe frameborder="0"><\/iframe>')},showPrompt:function(n){var t=$(n);t.show();$("a.close",t).click(function(){return $(t).hide(),n=="#userPannel-prompt"&&SetIeCookie("userpannel","close"),n=="#userPannel-userInfo"&&SetIeCookie("userInfo","close"),!1})},click:function(n){var n=$(n),i=n.attr("href").toString().match(/#(.*)/)[1],t=$("#"+i);n.click(function(){return t.show(),!1});$("a.close",t).click(function(){return t.hide(),!1})},hover:function(n){var n=$(n),i=n.attr("href").toString().match(/#(.*)/)[1],t=$("#"+i);n.hover(function(){t.show()},function(){t.hide()})},popHover:function(n){$('div[id][id!="userPannel-prompt"][id!="userPannel-userInfo"][id!="userPannel-userLogin"]',n).hover(function(){$(this).show()},function(){$(this).hide()})}},lineHoverColor:function(n){$(n).children().hover(function(){$(this).addClass("current")},function(){$(this).removeClass("current")})},lineHoverCurrent:function(n){$(n).children().click(function(){$(this).parent().find(".current").removeClass();$(this).addClass("current")})}};CF.index={carouseProduct:function(n){var n=$(n),u=n.prev(),i=6,f=$("li",n).length,s=Math.ceil(f/i),e="",t,r,o;for(u.append('<ul class="jcarouseLiteNav"><\/ul>'),t=$(">ul.jcarouseLiteNav",u),r=0;r<s;r++)e+="";t.prepend(""+e+' <li class="next"><a><span>换一批<\/span><\/a><\/li>');$(">li .1",t).parent().addClass("current");f<=i&&t.hide();n.jCarouselLite({btnNext:$(">li.next ",t),btnPrev:$(">li.prev a",t),visible:i,scroll:i,speed:1e3,afterEnd:function(n){$(">li.current",t).removeClass("current");var i=$(n[0]).attr("class").split("order")[1];$(">li:eq("+i+")",t).addClass("current")},btnGo:$(">li:not([class*=previous]):not([class*=next]) a",t)});o=n.width();n.width(o-3)},carouseOther:function(n){var n=$(n),r=n.prev(),u="",t,i;for(r.append('<ul class="jcarouseLiteNav"><\/ul>'),t=$(">ul.jcarouseLiteNav",r),i=0;i<3;i++)u+='<li><a class="'+(i+1)+'"><span>'+(i+1)+"<\/span><\/a><\/li>";t.prepend('<li class="prev"><a><span>previous<\/span><\/a><\/li>'+u+' <li class="next"><a><span>next<\/span><\/a><\/li>');$(">li .1",t).parent().addClass("current");n.jCarouselLite({btnNext:$(">li.next ",t),btnPrev:$(">li.prev a",t),visible:1,scroll:1,speed:1e3,afterEnd:function(n){$(">li.current",t).removeClass("current");var i=$(n[0]).attr("class").split("order")[1];$(">li:eq("+i+")",t).addClass("current")},btnGo:$(">li:not([class*=previous]):not([class*=next]) a",t)})}};CF.other={picChange:function(n){$(n).before('<div id="project-pic-nav">').find("ul").cycle({fx:"fade",timeout:3e3,next:n,pager:"#project-pic-nav",pageEvent:null})}};$(function(){overall();SetuserPannel();SetuserUserInfoPannel()});